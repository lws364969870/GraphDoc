<link rel="stylesheet" href="../../lib/treeView/jquery.treeview.css" />
<div data-bind="roleListHandler" class="col-sm-12">
	<nav class="navigation">系统配置<span class="c-gray en">&gt;</span><span>角色管理</span></nav>
	<div class="form-group">
		<label class="queryCondition control-label">角色名：</label>
		<div class="col-sm-3">
			<input type="text" placeholder="请输入角色名" class="form-control" data-bind="value:name"/>
		</div>
		<button class="btn btn-success" data-bind="click:$root.loadRole"> 搜索</button>
	</div>
	
	<div class="col-sm-12 cl pd-5 bg-1 bk-gray mb-10">
		<button type="button" class="btn btn-primary" data-bind="click:addRole">添加</button>
	</div>
	
	<div class="form-group">
		<div class="col-sm-2" style=" border: 1px solid #ddd; background-color: #FFFFFF;">
			<ul id="browser" class="filetree"></ul>
		</div>
		<div class="col-sm-10">
			<table class="roleTable table table-bordered ">
				<thead>
					<tr>
						<th class="text-center">序号</th>
						<th class="text-center">角色名</th>
						<th class="text-center">状态</th>
						<th class="text-center">操作</th>
					</tr>
				</thead>
				<tbody data-bind="foreach: roleArr">
					<tr class="text-center" data-bind="click: $parent.loadTreeView">
						<td data-bind="text: $index()+1"></td>
						<td data-bind="text: name"></td>
						<td>
							<div data-bind="if:status == 'Y'">
								启用
							</div>
							<div data-bind="if:status == 'N'">
								停用
							</div>
						</td>
						<td>
							<div data-bind="if:name != '系统管理员'">
							<button class="btn btn-primary mr-10" type="button" data-bind="click:$root.updateRole">编辑</button>
							<button class="btn btn-primary mr-10" type="button" data-bind="click:$root.delRole">删除</button>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<div class="fr" data-bind="if:isShowPage">
	<ul class="pagination">
	    <li><a href="#" aria-label="Previous" data-bind = "click:function(){ $root.upPage($root.minPageNum()); }"><span aria-hidden="true">&laquo;</span></a></li>
	    <!-- ko foreach: { data: pagesArray, as: 'page' } -->
	    	<li data-bind="click:function(){ $root.gotoPage(page); }, css:{ active: page == $root.currentPage() } "><a href="#" data-bind="text:page"></a></li>
	    <!-- /ko -->
	    <li><a href="#" data-bind = "click:function(){ $root.nextPage($root.maxPageNum()); }">&raquo;</a></li>
	</ul>	
</div>